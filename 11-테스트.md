

## 테스트

- 스프링부트에서 테스트기능을 사용해보자.



##### `spring-boot-starter-test` 추가

~~~xml
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-test</artifactId>
        <version>2.5.5</version>
        <scope>test</scope>
    </dependency>
~~~

- pom.xml
- test를 할 수 있는 의존성 추가.





##### `@Controlle` 추가

```java
@RestController
public class SampleController {

    @Autowired
    private SampleService sampleService;

    @GetMapping("/hello")
    public String hello() {
        return "hello " + sampleService.getName();
    }
}
@Service
public class SampleService {
    public String getName() {
        return "staek";
    }
}
```

- `/hello` url로 접근하면 `hello staek` 문자열을 리턴하는 API 생성







##### 테스트코드 추가

~~~java
@ExtendWith(SpringExtension.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)
@AutoConfigureMockMvc
class SampleControllerTest {

    @Autowired
    MockMvc mockMvc;

    @Test
    public void hello() throws Exception {
        mockMvc.perform(get("/hello"))
                .andExpect(status().isOk())
                .andExpect(content().string("hello staek"))
                .andDo(print());
    }
}
~~~

- springboot에서 지원하는 web 전용 `MOCK`을 추가하여 테스트코드를 작성할 수있다.





























































